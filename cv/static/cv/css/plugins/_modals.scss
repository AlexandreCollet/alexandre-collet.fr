/**
 * DEFAULT VARIABLES
 */

$modal-height: 95% !default;
$modal-width: 95% !default;
$modal-padding: 5px !default;
$modal-position-top: (100% - $modal-height) / 2 !default;
$modal-position-left: (100% - $modal-width) / 2 !default;
$modal-position-z: 1001 !default;
$modal-background-color: white !default;
$modal-color-map: (
    "red"    : red,
    "yellow" : yellow,
    "green"  : green,
    "blue"   : blue
) !default;
$modal-border-radius: 0 !default;
$modal-transition-duration: 0.3s !default;
$modal-transition-scale-from: 0.7 !default;


$modal-header-height: 150px !default;
$modal-header-title-size: 50px !default;

$modal-content-gutter-size: 5px !default;

$modal-close-font-size: 25px !default;
$modal-close-font-family: Arial !default;
$modal-close-gutter-size: 5px !default;

$overlay-background-color: rgba(127,127,127,0.8) !default;
$overlay-position-z: 1000 !default;



/**
 * PUBLIC MIXINS
 */

 @mixin modal-color($color) {
 	@include __modal-color($color);
 }

/**
 * PRIVATE MIXINS
 */

 @mixin __modal-color($color) {
 	.md-header h5{
 		color: $color;
        border-bottom-color: $color;
 	}
    .md-close {
        color: $color;
    }
 }


/**
 * CLASSES DECLARATIONS
 */

.md-modal {
	@include fixed(top $modal-position-top left $modal-position-left);
	@include size(width $modal-width height $modal-height);
	z-index: $modal-position-z;
	background-color: $modal-background-color;
    padding: $modal-padding;
    overflow-y: auto;
    border-radius: $modal-border-radius;
    transition: transform $modal-transition-duration,
                opacity $modal-transition-duration,
                visibility $modal-transition-duration;
    transform: scale($modal-transition-scale-from);
    opacity: 0;
    visibility: hidden;
    &.md-show {
        visibility: visible;
        transform: scale(1);
        opacity: 1;
    }

}

@each $key, $value in $modal-color-map {
    .md-#{$key} { @include __modal-color($value) }
}

.md-header {
    @include relative();
	@include size(width 100%);
	border-radius: $modal-border-radius $modal-border-radius 0 0;

	> h5 {
        font-size: $modal-header-title-size;
        border-bottom: 8px solid;
	}
}


.md-content {
    box-sizing: border-box;
    width: 100%;
    height: calc(100% - #{$modal-header-height});
    padding: $modal-content-gutter-size 0;
}


.md-close {
	@include absolute(top $modal-close-gutter-size right $modal-close-gutter-size);
	font-size: $modal-close-font-size;
	line-height: $modal-close-font-size;
	font-family: $modal-close-font-family;
    transition: transform $modal-transition-duration;
	transform: rotateZ(0);
	&:focus { outline: none;}
	&:hover {
		cursor: pointer;
		transform: rotateZ(90deg);
	}
}

#md-overlay {
    @include fixed(top 0 left 0);
    @include size(100%);
    visibility: hidden;
    z-index: $overlay-position-z;
    opacity: 0;
    background: $overlay-background-color;
    transition: opacity $modal-transition-duration;

    .md-show ~ & {
        visibility: visible;
        opacity: 1;
	    &:hover {
	        cursor: pointer;
	    }
    }
}
